<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Model - RADON Defect Predictor</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">RADON Defect Predictor</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Getting Started</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">CLI <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../getting_started/" class="dropdown-item">Getting Started</a>
</li>
                                    
<li>
    <a href="../train/" class="dropdown-item">Train</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Model</a>
</li>
                                    
<li>
    <a href="../predict/" class="dropdown-item">Predict</a>
</li>
                                </ul>
                            </li>
                            <li class="navitem">
                                <a href="../../apis/" class="nav-link">APIs</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../train/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../predict/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/radon-h2020/radon-defect-predictor/edit/master/docs/cli/model.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#download-a-pre-trained-model" class="nav-link">Download a pre-trained model</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#language-ansible-tosca" class="nav-link">language {ansible, tosca}</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#host-github-gitlab" class="nav-link">host {github, gitlab}</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#repository" class="nav-link">repository</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#examples" class="nav-link">Examples</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="download-a-pre-trained-model">Download a pre-trained model</h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This command is partially implemented.</p>
</div>
<pre><code class="language-text">usage: radon-defect-predictor download-model [-h] {ansible,tosca} {github,gitlab} repository

positional arguments:
  {ansible,tosca}  the language the model is trained on
  {github,gitlab}  the platform the user's repository is hosted to
  repository       the user's remote repository in the form &lt;namespace&gt;/&lt;repository&gt; (e.g., radon-h2020/radon-defect-prediction-cli)

optional arguments:
  -h, --help       show this help message and exit
</code></pre>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is important to set up the following variables in your environment:</p>
<ul>
<li>
<p><code>GITHUB_ACCESS_TOKEN=&lt;paste your token here&gt;</code> for Github, and/or</p>
</li>
<li>
<p><code>GITLAB_ACCESS_TOKEN=&lt;paste your token here&gt;</code> for Gitlab.</p>
</li>
<li>
<p><code>TMP_REPOSITORIES_DIR=/tmp/</code> if not using the Docker image. It is the directory where the tool clones the repository
to extract the information to get the best matching model.</p>
</li>
</ul>
</div>
<h2 id="language-ansible-tosca">language {ansible, tosca}</h2>
<p>Every models are trained for a specific language. 
To download the proper model the user <strong>must</strong> specify the language on which they want to use the model.
Ansible and TOSCA are currently supported.
If the project contains both Ansible and Tosca files, the user can download two models by running the command twice, 
passing the option <code>ansible</code> and <code>tosca</code>, respectively.</p>
<h2 id="host-github-gitlab">host {github, gitlab}</h2>
<p>The hosting platform for software development and version control using Git. Github and Gitlab are supported.
This option is required to use the appropriate APIs (<a href="https://github.com/PyGithub/PyGithub"><code>pygithub</code></a> or 
<a href="https://github.com/python-gitlab/python-gitlab"><code>python-gitlab</code></a>) to compute some of the aforementioned criteria.</p>
<h2 id="repository">repository</h2>
<p>The user's repository full name <em>namespace/repository</em> (e.g., radon-h2020/radon-defect-prediction-cli). <br>
It is necessary to select the appropriate model for the repository at hand.
Indeed, the downloaded model is the model trained on the most similar repository based on the following criteria: </p>
<ul>
<li><strong>Core contributors:</strong> the number of contributors whose total number of commits accounts for 80% or more of the total contributions.</li>
<li><strong>Continuous integration (CI):</strong> the repository has evidence of a CI service, determined by the presence of a configuration file required by that service (e.g., a.travis.ymlfor TravisCI).</li>
<li><strong>Comments ratio:</strong> ratio between comments and lines of code.</li>
<li><strong>Commit frequency:</strong> the average number of commits per month.</li>
<li><strong>Issue frequency:</strong> the average number of issue events transpired per month.</li>
<li><strong>License availability:</strong> the repository has evidence of a license (i.e., a LICENSE file).</li>
<li><strong>Lines of Code:</strong> the number of executable lines of code. </li>
<li><strong>Ratio of IaC scripts:</strong> ratio between Infrastructure-as-Code (IaC) files and total files.</li>
</ul>
<p>The value of each criterion is automatically extracted by the <a href="https://github.com/radon-h2020/radon-repository-scorer"><code>radon-repository-scorer</code></a> this tool depends on. <br></p>
<h2 id="examples">Examples</h2>
<h3 id="ansible">Ansible</h3>
<p>Let's assume the user wants to download an Ansible model suitable for <a href="https://github.com/ANXS/postgresql.git">ANXS/postgresql</a>.</p>
<p>For the sake of the example, let's create and move to a working directory:</p>
<p><code>mkdir radon-wd-ansible &amp;&amp; cd radon-wd-ansible</code></p>
<p>The user can now get an Ansible model by running:</p>
<p><code>radon-defect-predictor download-model ansible github ANXS/postgresql</code></p>
<p>The model is saved in the current working directory:</p>
<pre><code class="language-text">ls

radondp_model.joblib
</code></pre>
<p>The model can be used later for predictions.</p>
<h3 id="tosca">Tosca</h3>
<p>Let's assume the user wants to download a TOSCA model suitable for <a href="https://github.com/UoW-CPC/COLARepo.git">UoW-CPC/COLARepo</a>.</p>
<p>For the sake of the example, let's create and move to a working directory:</p>
<p><code>mkdir radon-wd-tosca &amp;&amp; cd radon-wd-tosca</code></p>
<p>The user can now get an Ansible model by running:</p>
<p><code>radon-defect-predictor download-model tosca github UoW-CPC/COLARepo</code></p>
<p>The model is saved in the current working directory:</p>
<pre><code class="language-text">ls

radondp_model.joblib
</code></pre>
<p>The model can be used later for predictions. </p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
